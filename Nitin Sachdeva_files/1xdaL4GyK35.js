if (self.CavalryLogger) { CavalryLogger.start_js(["TM7sy"]); }

__d('TabBar',['ArbiterMixin','ReactDOM','mixin'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('mixin')(c('ArbiterMixin')));i=h&&h.prototype;function j(k,l,m){'use strict';i.constructor.call(this);l.props=babelHelpers['extends']({},l.props,{onTabClick:function(n){return this.inform(j.TAB_CLICK,n);}.bind(this)});c('ReactDOM').render(k(l),m);}j.TAB_CLICK='onTabClick';f.exports=j;},null);
__d('ReviewConsumptionTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:ReviewConsumptionLoggerConfig',this.$ReviewConsumptionTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:ReviewConsumptionLoggerConfig',this.$ReviewConsumptionTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$ReviewConsumptionTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$ReviewConsumptionTypedLogger1=babelHelpers['extends']({},this.$ReviewConsumptionTypedLogger1,j);return this;};h.prototype.setEvent=function(j){this.$ReviewConsumptionTypedLogger1.event=j;return this;};h.prototype.setPageID=function(j){this.$ReviewConsumptionTypedLogger1.page_id=j;return this;};h.prototype.setReviewID=function(j){this.$ReviewConsumptionTypedLogger1.review_id=j;return this;};h.prototype.setSurface=function(j){this.$ReviewConsumptionTypedLogger1.surface=j;return this;};h.prototype.setVC=function(j){this.$ReviewConsumptionTypedLogger1.vc=j;return this;};h.prototype.updateExtraData=function(j){j=c('nullthrows')(c('GeneratedLoggerUtils').serializeMap(j));c('GeneratedLoggerUtils').checkExtraDataFieldNames(j,i);this.$ReviewConsumptionTypedLogger1=babelHelpers['extends']({},this.$ReviewConsumptionTypedLogger1,j);return this;};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l);};var i={event:true,page_id:true,review_id:true,surface:true,vc:true};f.exports=h;},null);
__d('ReviewPagingNotifier',['Arbiter'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={PAGING_STATE:'paging_state',PAGING_FINISHED:'paging_finished',send_state:function(i,j){var k={context:i,state:j};c('Arbiter').inform(h.PAGING_STATE,k,c('Arbiter').BEHAVIOR_STATE);},paging_finished:function(i){h.send_state(i,h.PAGING_FINISHED);}};f.exports=h;},null);
__d('ReviewRatingHistogram',['csx','Arbiter','CSS'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j,k){'use strict';for(var l=1;l<=5;++l)if(!c('CSS').matchesSelector(k[l],"._5h2r")){j[l].onclick=this.$ReviewRatingHistogram1.bind(this,l);k[l].onclick=this.$ReviewRatingHistogram1.bind(this,l);}}i.prototype.$ReviewRatingHistogram1=function(j){'use strict';c('Arbiter').inform(i.RATING_CLICK,j);};i.RATING_CLICK='onRatingClick';f.exports=i;},null);
__d('SpotlightSnippetLink',['Arbiter','Event'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){'use strict';c('Event').listen(i,'click',function(){c('Arbiter').inform(h.SNIPPET_CLICK,j);});}h.init=function(i,j){'use strict';return new h(i,j);};h.SNIPPET_CLICK='snippet_click';f.exports=h;},null);
__d('SpotlightSnippetXOutButton',['Arbiter','Event'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';c('Event').listen(i,'click',function(){c('Arbiter').inform(h.XOUT);});}h.init=function(i){'use strict';return new h(i);};h.XOUT='snippet_xout';f.exports=h;},null);
__d('SpotlightReviewsTabbingController',['cx','invariant','ge','Arbiter','CSS','DOM','DOMScroll','ReviewConsumptionTypedLogger','ReviewPagingNotifier','ReviewRatingHistogram','Run','SpotlightSnippetLink','SpotlightSnippetXOutButton','Style','SubscriptionsHandler','TabBar'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k,l,m,n,o,p,q,r){'use strict';this.$SpotlightReviewsTabbingController9=k;this.$SpotlightReviewsTabbingController8=l;this.$SpotlightReviewsTabbingController11=m;this.$SpotlightReviewsTabbingController6=n;this.$SpotlightReviewsTabbingController7=o;this.$SpotlightReviewsTabbingController10=p;this.$SpotlightReviewsTabbingController3=q;this.$SpotlightReviewsTabbingController1=false;this.$SpotlightReviewsTabbingController8=l;this.$SpotlightReviewsTabbingController2={defaultTab:true};this.$SpotlightReviewsTabbingController4=null;this.$SpotlightReviewsTabbingController5=null;var s=new (c('SubscriptionsHandler'))();s.addSubscriptions(k.subscribe(c('TabBar').TAB_CLICK,function(t,u){new (c('ReviewConsumptionTypedLogger'))().setEvent('switched_review_filter').setPageID(this.$SpotlightReviewsTabbingController3).setSurface('reviews_tab').addToExtraData('filter_type',u).addToExtraData('previous_filter_Type',this.$SpotlightReviewsTabbingController8).log();this.$SpotlightReviewsTabbingController12(u);}.bind(this)),c('Arbiter').subscribe(c('SpotlightSnippetLink').SNIPPET_CLICK,function(t,u){new (c('ReviewConsumptionTypedLogger'))().setEvent('spotlight_snippet_tap').setPageID(this.$SpotlightReviewsTabbingController3).setSurface('reviews_tab').addToExtraData('snippet_text',u).log();this.$SpotlightReviewsTabbingController13(u);}.bind(this)),c('Arbiter').subscribe(c('SpotlightSnippetXOutButton').XOUT,function(){new (c('ReviewConsumptionTypedLogger'))().setEvent('spotlight_snippet_xout_click').setPageID(this.$SpotlightReviewsTabbingController3).setSurface('reviews_tab').addToExtraData('snippet_text',this.$SpotlightReviewsTabbingController8).log();this.$SpotlightReviewsTabbingController14();}.bind(this)),c('Arbiter').subscribe(c('ReviewPagingNotifier').PAGING_STATE,function(t,u){if(u.state===c('ReviewPagingNotifier').PAGING_FINISHED){c('Style').apply(this.$SpotlightReviewsTabbingController6[u.context],{'min-height':0});this.$SpotlightReviewsTabbingController2[u.context]=true;if(u.context==='star_rating')if(this.$SpotlightReviewsTabbingController4){var v=c('ge')(this.$SpotlightReviewsTabbingController4+'_star_reviews');if(v){c('DOMScroll').scrollTo(v);this.$SpotlightReviewsTabbingController4=null;}}}return false;}.bind(this)),c('Arbiter').subscribe(c('ReviewRatingHistogram').RATING_CLICK,function(t,u){new (c('ReviewConsumptionTypedLogger'))().setEvent('rating_histogram_click').setPageID(this.$SpotlightReviewsTabbingController3).setSurface('reviews_tab').addToExtraData('rating',u).log();if(this.$SpotlightReviewsTabbingController1)this.$SpotlightReviewsTabbingController14();this.$SpotlightReviewsTabbingController15(this.$SpotlightReviewsTabbingController8);this.$SpotlightReviewsTabbingController16('star_rating');this.$SpotlightReviewsTabbingController12('star_rating');if(this.$SpotlightReviewsTabbingController2.star_rating){c('DOMScroll').scrollTo(c('ge')(u+'_star_reviews'));}else this.$SpotlightReviewsTabbingController4=u;}.bind(this)));c('Run').onLeave(function(){return s.release();});if(r)this.$SpotlightReviewsTabbingController13(r);}j.prototype.$SpotlightReviewsTabbingController15=function(k){'use strict';c('CSS').removeClass(this.$SpotlightReviewsTabbingController11[k].parentNode.parentNode.parentNode,"_1hqh");};j.prototype.$SpotlightReviewsTabbingController14=function(){'use strict';c('CSS').show(this.$SpotlightReviewsTabbingController10);c('CSS').hide(this.$SpotlightReviewsTabbingController7);this.$SpotlightReviewsTabbingController1=false;!this.$SpotlightReviewsTabbingController5?i(0):void 0;this.$SpotlightReviewsTabbingController12(this.$SpotlightReviewsTabbingController5);};j.prototype.$SpotlightReviewsTabbingController13=function(k){'use strict';c('CSS').hide(this.$SpotlightReviewsTabbingController10);c('CSS').show(this.$SpotlightReviewsTabbingController7);var l=c('ge')('selected_snippet_text');c('DOM').setContent(l,k);this.$SpotlightReviewsTabbingController15(this.$SpotlightReviewsTabbingController8);this.$SpotlightReviewsTabbingController5=this.$SpotlightReviewsTabbingController8;this.$SpotlightReviewsTabbingController12(k);this.$SpotlightReviewsTabbingController1=true;};j.prototype.$SpotlightReviewsTabbingController16=function(k){'use strict';c('CSS').addClass(this.$SpotlightReviewsTabbingController11[k].parentNode.parentNode.parentNode,"_1hqh");};j.prototype.$SpotlightReviewsTabbingController12=function(k){'use strict';this.$SpotlightReviewsTabbingController4=null;if(k!=='star_rating')this.$SpotlightReviewsTabbingController15('star_rating');if(k in this.$SpotlightReviewsTabbingController11)this.$SpotlightReviewsTabbingController16(k);var l=this.$SpotlightReviewsTabbingController6[this.$SpotlightReviewsTabbingController8],m=this.$SpotlightReviewsTabbingController6[k];if(!(k in this.$SpotlightReviewsTabbingController2)){var n=c('Style').get(l,'height');c('Style').apply(m,{'min-height':n});}c('CSS').removeClass(this.$SpotlightReviewsTabbingController6[this.$SpotlightReviewsTabbingController8],"_2fg3");c('CSS').addClass(this.$SpotlightReviewsTabbingController6[k],"_2fg3");this.$SpotlightReviewsTabbingController8=k;};f.exports=j;},null);
__d('TabBarShim',['DOMContainer.react','React','isNode'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(i){var j;if(i.children){j=i.children.map(function(l,m){if(typeof l==='object'&&typeof l.ctor==='function'){return h(l);}else if(c('isNode')(l)){var n=c('React').createElement(c('DOMContainer.react'),{key:'TabBarShim-'+m},l);return n;}else return l;});if(j.length===1)j=j[0];}var k=i.ctor;return c('React').createElement(k,i.props,j);};f.exports=h;},null);